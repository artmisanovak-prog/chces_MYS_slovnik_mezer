<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß© Kombinaƒçn√≠ m√≥d ¬∑ Karty poruch</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #ffffff;
            color: #111111;
            font-family: 'Helvetica', 'Arial', sans-serif;
            line-height: 1.6;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .page {
            max-width: 1200px;
            width: 100%;
        }

        h1 {
            font-size: 2.4rem;
            font-weight: 300;
            border-bottom: 1px solid #333;
            padding-bottom: 0.5rem;
            margin-bottom: 2rem;
            text-transform: uppercase;
        }

        h2 {
            font-size: 1.8rem;
            font-weight: 300;
            margin: 2.5rem 0 1.5rem;
            border-left: 4px solid #333;
            padding-left: 1.2rem;
        }

        h3 {
            font-size: 1.4rem;
            font-weight: 400;
            margin: 1.5rem 0 1rem;
        }

        .selector-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            margin: 2rem 0 3rem;
            justify-content: center;
        }

        .card-selector {
            flex: 1 1 400px;
            background: #f8f8f8;
            padding: 1.5rem;
            border: 1px solid #ddd;
        }

        .card-selector label {
            display: block;
            margin-bottom: 1rem;
            font-weight: 600;
            font-size: 1.2rem;
        }

        select {
            width: 100%;
            padding: 0.8rem;
            font-size: 1rem;
            border: 1px solid #111;
            background: white;
            font-family: inherit;
            cursor: pointer;
            margin-bottom: 1rem;
        }

        .card-preview {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: white;
            border: 1px solid #ddd;
        }

        .card-preview img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            border: 1px solid #111;
            background: #f0f0f0;
        }

        .card-preview .card-info {
            flex: 1;
        }

        .card-preview .card-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .card-preview .card-desc {
            font-size: 0.95rem;
            color: #333;
        }

        .angle-selector {
            margin-top: 1.5rem;
        }

        .angle-selector label {
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        select.angle-select {
            margin-bottom: 0;
        }

        .info-panel {
            background: #f0f0f0;
            padding: 1rem 1.5rem;
            margin: 2rem 0;
            border-left: 4px solid #333;
        }

        .combo-result {
            background: #f5f5f5;
            padding: 2rem;
            margin: 2rem 0;
            border: 2px solid #333;
        }

        .combo-title {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 1rem;
            border-bottom: 1px solid #aaa;
            padding-bottom: 0.5rem;
        }

        .combo-section {
            margin: 2rem 0;
        }

        .combo-section h4 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.8rem;
        }

        .exercise {
            background: white;
            padding: 1.5rem;
            border-left: 3px solid #333;
            margin-top: 1rem;
        }

        .exercise p {
            margin: 0.5rem 0;
        }

        .exercise ol, .exercise ul {
            margin: 1rem 0 1rem 1.8rem;
        }

        button {
            background: #111;
            color: white;
            border: none;
            padding: 1rem 3rem;
            font-size: 1.2rem;
            cursor: pointer;
            margin: 2rem 0;
            font-weight: 300;
            letter-spacing: 1px;
        }

        button:hover {
            background: #333;
        }

        .footer {
            margin-top: 4rem;
            border-top: 1px solid #ccc;
            padding-top: 2rem;
            text-align: center;
            color: #666;
        }

        .relationship-badge {
            display: inline-block;
            background: #333;
            color: white;
            padding: 0.3rem 1rem;
            font-size: 0.9rem;
            margin-right: 0.5rem;
        }

        .debug-info {
            background: #f0f0f0;
            padding: 1rem;
            font-family: monospace;
            font-size: 0.9rem;
            margin-top: 2rem;
            border: 1px dashed #999;
        }
    </style>
</head>
<body>
    <div class="page">

        <h1>üß© Kombinaƒçn√≠ m√≥d ¬∑ Karty poruch</h1>

        <div class="info-panel">
            <p><strong>Jak to funguje:</strong> Vyber dvƒõ karty (podle n√°zvu a popisu poruchy), u ka≈æd√© vyber jeden √∫hel pohledu. N√°stroj spoj√≠ jejich Q3 (konkr√©tn√≠ cviƒçen√≠) do jednoho kombinaƒçn√≠ho cviƒçen√≠. V√Ωsledek respektuje logiku: <em>‚ÄûLid√© s √∫hlem A dostanou √∫kol pracovat zp≈Øsobem √∫hlu B.‚Äú</em></p>
        </div>

        <!-- V√Ωbƒõr dvou karet -->
        <div class="selector-grid">
            <div class="card-selector">
                <label>‚¨ÖÔ∏è Prvn√≠ karta (A)</label>
                <select id="cardA"></select>
                <div id="previewA" class="card-preview"></div>
                <div class="angle-selector" id="angleSelectorA"></div>
            </div>
            <div class="card-selector">
                <label>‚û°Ô∏è Druh√° karta (B)</label>
                <select id="cardB"></select>
                <div id="previewB" class="card-preview"></div>
                <div class="angle-selector" id="angleSelectorB"></div>
            </div>
        </div>

        <!-- Tlaƒç√≠tko -->
        <div style="text-align: center;">
            <button id="generateBtn">üîÆ Vygenerovat kombinaci</button>
        </div>

        <!-- V√Ωsledek -->
        <div id="resultArea" class="combo-result" style="display: none;">
            <div class="combo-title" id="comboTitle"></div>

            <div class="combo-section">
                <h4>üîç Kombinovan√Ω probl√©m</h4>
                <p id="comboProblem"></p>
            </div>

            <div class="combo-section">
                <h4>üéØ C√≠l cviƒçen√≠</h4>
                <p id="comboGoal"></p>
            </div>

            <div class="combo-section">
                <h4>üßò Cviƒçen√≠ / intervence</h4>
                <div class="exercise" id="comboExercise"></div>
            </div>

            <div class="combo-section">
                <h4>üìê Pou≈æit√© √∫hly</h4>
                <p id="angleInfo"></p>
            </div>
        </div>

        <div class="footer">
            ¬© 2026 ¬∑ Kombinaƒçn√≠ m√≥d ¬∑ zalo≈æeno na syst√©mu ‚ÄûChce≈° my≈°?‚Äú
        </div>
    </div>

    <script>
        // ============================================================
        // DATAB√ÅZE KARET (RYBA, MOT√ùL, PLAME≈á√ÅK, HUSY + uk√°zkov√© dal≈°√≠)
        // ============================================================
        const cardsDB = [
            {
                id: "ryba",
                name: "üêü Ryba",
                title: "Ryba ‚Äì tich√° komunikace",
                desc: "Povrchn√≠ k≈ôik nahrazuje autentickou komunikaci. T√Ωm mluv√≠ hodnƒõ, ale nic se nemƒõn√≠.",
                image: "dona/karty_ukazky/Ryba/ryba.jpg",
                angles: [
                    { id: 1, name: "Vibraƒçn√≠ komunikace", q3: "Zav√©st 'ƒçten√≠ vibrac√≠': P≈ôed zah√°jen√≠m ≈ôe≈°en√≠ agendy vƒõnovat 2 minuty popisu 'jak se tu dnes c√≠t√≠ vzduch/voda'. Co je nevy≈ôƒçen√©, ale p≈ô√≠tomn√©? Tr√©novat vn√≠mavost k prost≈ôed√≠." },
                    { id: 2, name: "Systemick√Ω dopad", q3: "Mƒõ≈ôit √∫spƒõch komunikace ne podle d√©lky nebo poƒçtu bod≈Ø, ale podle odpovƒõdi na ot√°zku: 'Jak se zmƒõnilo na≈°e spoleƒçn√© 'prost≈ôed√≠' (d≈Øvƒõra, jasnost, energie) po t√©to v√Ωmƒõnƒõ?'" },
                    { id: 3, name: "P≈ôesnost p≈ôed hlasitost√≠", q3: "Zav√©st pravidlo 'v√°hy slova': Ka≈æd√Ω m√° na meetingu limitovan√Ω poƒçet 'zlat√Ωch slov'. Kdy≈æ je pou≈æije, mus√≠ mlƒçet. Nut√≠ to k √∫spornosti a p≈ôesnosti." },
                    { id: 4, name: "R≈Øznorod√© ≈æ√°nry", q3: "Mapovat 'hudebn√≠ mapu t√Ωmu': Kdo je ≈æralok-gospelista (hlubok√Ω vizion√°≈ô)? Kdo med√∫za-trianglistka (dod√°v√° jemn√© detaily)? Oce≈àovat tyto rozd√≠ly." },
                    { id: 5, name: "Ptaƒç√≠ k≈ôikot", q3: "Prov√©st 'audit ptaƒç√≠ho k≈ôiku': Identifikovat 3 nejƒçastƒõj≈°√≠, nejpr√°zdnƒõj≈°√≠ fr√°ze nebo ritu√°ly v na≈°√≠ komunikaci. Domluvit se na jejich eliminaci." },
                    { id: 6, name: "Mlƒçen√≠ jako dovednost", q3: "Zav√©st 'ryb√≠ pauzy': Po kl√≠ƒçov√Ωch ot√°zk√°ch nebo p≈ôed rozhodnut√≠m povinn√° 1-2 minuty naprost√©ho ticha na reflexi." },
                    { id: 7, name: "Komunikace s prost≈ôed√≠m", q3: "P≈ôed ka≈ædou v√Ωznamnƒõj≈°√≠ komunikac√≠ se zeptat: 'Mluv√≠m teƒè ke t√Ωmu, nebo pro n√°≈° spoleƒçn√Ω syst√©m?' A upravit jazyk." },
                    { id: 8, name: "Ticho, kter√© nese obsah", q3: "Vytvo≈ôit mechanismy pro 'zviditelnƒõn√≠ ticha': Pravideln√© psan√© reflexe m√≠sto √∫stn√≠ch report≈Ø, brainwriting." },
                    { id: 9, name: "Beaty prost≈ôed√≠", q3: "Integrovat komunikaci do 'proud≈Ø pr√°ce': M√≠sto form√°ln√≠ch meeting≈Ø ƒçastƒõji komunikovat v kontextu pr√°ce." },
                    { id: 10, name: "Vn√≠m√°n√≠ m√≠sto poslouch√°n√≠", q3: "Po d≈Øle≈æit√Ωch setk√°n√≠ch se pt√°t: 'Co jsi poc√≠til? Co jsi zaznamenal v m√≠stnosti, co nebylo ≈ôeƒçeno?'" },
                    { id: 11, name: "Autentick√© vyj√°d≈ôen√≠", q3: "Pomoci ka≈æd√©mu ƒçlenovi t√Ωmu identifikovat jeho 'komunikaƒçn√≠ ≈æ√°nr'. Respektovat tyto ≈æ√°nry a hledat, jak je integrovat do spoleƒçn√©ho orchestru." },
                    { id: 12, name: "Neviditeln√© v√≠tƒõzstv√≠", q3: "Zav√©st 'hitpar√°du pod hladinou': Pravidelnƒõ oce≈àovat a reflektovat neviditeln√© √∫spƒõchy." }
                ]
            },
            {
                id: "motyl",
                name: "ü¶ã Mot√Ωl",
                title: "Mot√Ωl ‚Äì probl√©m jako past",
                desc: "Probl√©m vypad√° dob≈ôe, kr√°snƒõ, ale nikdo ho ne≈ôe≈°√≠. Estetizace m√≠sto akce.",
                image: "dona/karty_ukazky/Motyl/motyl.jpg",
                angles: [
                    { id: 1, name: "Symbolick√© nasycen√≠", q3: "Kdykoli nƒõkdo p≈ôedlo≈æ√≠ vizi (mot√Ωl), mus√≠ z√°rove≈à navrhnout prvn√≠ t≈ôi kroky ‚Äì konkr√©tn√≠, mal√©, hmatateln√© akce do 14 dn≈Ø." },
                    { id: 2, name: "Komunikaƒçn√≠ minimalismus", q3: "Zav√©st komunikaƒçn√≠ pravidlo: P≈ôedstaven√≠ jak√©hokoli n√°padu mus√≠ obsahovat vƒõtu: 'A teƒè to ≈ôeknu bez metafory: Jde o to, ≈æe‚Ä¶'" },
                    { id: 3, name: "Promƒõnliv√° identita", q3: "Pro ka≈æd√Ω kl√≠ƒçov√Ω projekt/proces urƒçit jeho 'k≈ôestn√≠ jm√©no' (podstatu) a hl√≠dat, zda se nep≈ôevl√©k√° za nƒõco, ƒç√≠m nen√≠." },
                    { id: 4, name: "Nefunkƒçn√≠ kr√°sa", q3: "P≈ôi hodnocen√≠ n√°stroje/n√°padu se pt√°t na 'test palc≈Ø': Jak√© jsou t≈ôi nejjednodu≈°≈°√≠, nejpraktiƒçtƒõj≈°√≠ akce, kter√© s t√≠m dok√°≈æe udƒõlat ten, kdo to bude pou≈æ√≠vat?" },
                    { id: 5, name: "Lehkost jako proklet√≠", q3: "Zav√©st pravidlo 'tƒõ≈æk√©ho ≈æaludku': Pokud rozhodnut√≠/akce neobsahuje aspo≈à jeden nep≈ô√≠jemn√Ω kompromis, jeden obt√≠≈æn√Ω √∫kol nebo jedno riziko, je to mot√Ωl." },
                    { id: 6, name: "Ztracen√° chu≈•", q3: "Hledat v≈ædy 'chleba s mot√Ωlem' ‚Äì tedy z√°kladn√≠ ≈ôe≈°en√≠ doplnƒõn√© o jeden prvek smyslu/kr√°sy/hry, kter√Ω mu d√°v√° chu≈•." },
                    { id: 7, name: "Self-estetizace", q3: "Pravidlo 'o≈°kliv√©ho prvn√≠ho slova': Prvn√≠ vƒõta p≈ôi popisu probl√©mu mus√≠ obsahovat nejp≈ô√≠mƒõj≈°√≠, nejo≈°klivƒõj≈°√≠ v√Ωraz." },
                    { id: 8, name: "B√°sniƒçky v ≈æaludku", q3: "M√≠sto hodnocen√≠ spokojenosti se pt√°t na 'zpƒõv ≈æaludku': Na ƒçem jsi pracoval/a, ≈æe jsi u toho c√≠til/a, jak ti ≈æaludek zp√≠v√°?" },
                    { id: 9, name: "Emocion√°ln√≠ chleba", q3: "Kdy≈æ delegujeme √∫kol, pt√°t se i na emocion√°ln√≠ rovinu: 'Co na tom bude nejtƒõ≈æ≈°√≠/nejnep≈ô√≠jemnƒõj≈°√≠? Jak ti v tom m≈Ø≈æeme pomoci?'" },
                    { id: 10, name: "V√≠ry v my≈°lenk√°ch", q3: "Vytvo≈ôit 'mot√Ωl√≠ rezervaci' ‚Äì board na odkl√°d√°n√≠ n√°pad≈Ø/obav. Jednou t√Ωdnƒõ se otev≈ôe a vybere se jeden k promƒõnƒõ v projekt." },
                    { id: 11, name: "Nedƒõln√≠ chu≈•", q3: "Pravidelnƒõ za≈ôazovat do pr√°ce prvek 'p√°tku' ‚Äì nƒõco neoƒçek√°van√©ho, experiment√°ln√≠ho, m√≠rnƒõ rizikov√©ho." },
                    { id: 12, name: "Koneƒçn√Ω dotaz", q3: "Institucionalizovat ot√°zku 'A m√°≈° k tomu i p≈ô√≠lohu?' jako povinnou souƒç√°st schvalov√°n√≠ nov√Ωch iniciativ." }
                ]
            },
            {
                id: "plamenak",
                name: "ü¶© Plame≈à√°k",
                title: "Plame≈à√°k ‚Äì nad≈°en√≠ bez smƒõru",
                desc: "Energie, kter√° nikam nevede. T√Ωm je nad≈°en√Ω, ale chyb√≠ mu pl√°n a realita.",
                image: "dona/karty_ukazky/Plamenak/plamenak.jpg",
                angles: [
                    { id: 1, name: "Toxick√Ω optimismus", q3: "Vytvo≈ôit bezpeƒçn√Ω prostor pro 'nepr≈Øst≈ôelnou realitu'. Zav√©st ritu√°l, kde prvn√≠ slovo v brainstormingu je kritick√©/realistick√©." },
                    { id: 2, name: "Performativn√≠ energie", q3: "P≈ôehodnotit metriky: Oslavovat jen v√Ωsledky s dopadem, ne aktivitu samotnou. Pt√°t se: 'Kdybychom tento pohyb zru≈°ili, ztratili bychom nƒõco?'" },
                    { id: 3, name: "Neexistuj√≠c√≠ dno", q3: "Definovat spoleƒçnƒõ 'dna' p≈ôedem: Jak√© metriky znamenaj√≠, ≈æe mus√≠me projekt zastavit? Kdo m√° mand√°t ≈ô√≠ci dost?" },
                    { id: 4, name: "Ilogick√° vytrvalost", q3: "Zav√©st pravidlo inteligentn√≠ vytrvalosti: Po ne√∫spƒõchu povinn√° anal√Ωza p≈ôed pokraƒçov√°n√≠m." },
                    { id: 5, name: "Estetizace selh√°n√≠", q3: "Oddƒõlit oslavu od anal√Ωzy: Dva meetinky ‚Äì d√≠ky za energii, pak chladn√° pitva bez estetizace." },
                    { id: 6, name: "Infekƒçn√≠ nad≈°en√≠", q3: "Vyv√°≈æit t√Ωmy: Ke ka≈æd√©mu plame≈à√°kovi p≈ôi≈ôadit my≈° (realistu). My≈° m√° pr√°vo veta na aktivaci." },
                    { id: 7, name: "Ztr√°ta orientace", q3: "Pravideln√Ω kalibraƒçn√≠ bod: Zastavit a zkontrolovat orientaci podle vnƒõj≈°√≠ch mƒõ≈ô√≠tek." },
                    { id: 8, name: "Solistick√Ω p≈ô√≠stup", q3: "Propojit odmƒõ≈àov√°n√≠ s dopadem na celek, ne na individu√°ln√≠ v√Ωkon." },
                    { id: 9, name: "Pop√≠r√°n√≠ reality", q3: "Zav√©st test axiom≈Ø: P≈ôed projektem zapsat kl√≠ƒçov√© p≈ôedpoklady a testovat je." },
                    { id: 10, name: "Ob sesivn√≠ smƒõ≈ôov√°n√≠ dol≈Ø", q3: "Vynutit obdob√≠ nudn√© stability ‚Äì ƒças na konsolidaci, ocenit prevenci." },
                    { id: 11, name: "Zapomnƒõn√≠ spolucestuj√≠c√≠ch", q3: "Pravideln√° mapa ekosyst√©mu: Kdo je n√°≈° kom√°r? Kdo na≈°e pr√°deln√≠ ≈°≈à≈Øra?" },
                    { id: 12, name: "Permanentn√≠ znovuzrozen√≠", q3: "Z ka≈æd√© retrospektivy vyn√©st jeden konkr√©tn√≠, mƒõ≈ôiteln√Ω z√°vazek zmƒõny a kontrolovat ho." }
                ]
            },
            {
                id: "husy",
                name: "ü¶Ü Husy",
                title: "Husy ‚Äì kolektivn√≠ singul√°r",
                desc: "Ka≈æd√Ω k≈ôiƒç√≠ 'j√°', ale nikdo netvo≈ô√≠ 'my'. T√Ωm je soubor izolovan√Ωch eg.",
                image: "dona/karty_ukazky/Husy/husy.jpg",
                angles: [
                    { id: 1, name: "Kolektivn√≠ singul√°r", q3: "Zav√©st ritu√°l 'my-check': Ka≈æd√Ω mus√≠ zaƒç√≠t vƒõtu 'My jsme‚Ä¶' a popsat spoleƒçn√Ω c√≠l." },
                    { id: 2, name: "Nosiƒçi slov", q3: "Ke ka≈æd√©mu d≈Øle≈æit√©mu slovu p≈ôi≈ôadit jednoho nositele odpovƒõdnosti za konkr√©tn√≠ akci." },
                    { id: 3, name: "Gramatick√° krize", q3: "Prov√©st jazykovou hygienu ‚Äì vyƒçistit slovn√≠k od buzzword≈Ø, nahradit je konkr√©tn√≠mi popisy." },
                    { id: 4, name: "Nejist√© j√°", q3: "Zav√©st anonymn√≠ hlasov√°n√≠ p≈ôed diskus√≠, aby n√°zory nebyly ovlivnƒõny ozvƒõnou." },
                    { id: 5, name: "Kruhov√Ω let", q3: "Na konci sch≈Øze 3 v√Ωstupy: rozhodnut√≠, vlastn√≠k, term√≠n." },
                    { id: 6, name: "Hlasit√Ω sebeklam", q3: "Nahradit hlasit√° prohl√°≈°en√≠ tich√Ωm dotazov√°n√≠m: 'Co by n√°m pomohlo b√Ωt lep≈°√≠mi?'" },
                    { id: 7, name: "Houser se z√°jmem", q3: "Pravidelnƒõ zv√°t extern√≠ho pozorovatele k nepohodln√Ωm ot√°zk√°m." },
                    { id: 8, name: "Manifest v rozkladu", q3: "Budovat tichou √∫stavu ‚Äì p√°r ≈æit√Ωch, jednoduch√Ωch pravidel m√≠sto hlasit√Ωch manifest≈Ø." },
                    { id: 9, name: "Pot≈ôeba b√Ωt sly≈°en", q3: "Zav√©st kruh sly≈°en√≠ ‚Äì mluv√≠ jen ten, kdo dr≈æ√≠ p≈ôedmƒõt, a mus√≠ shrnout p≈ôedchoz√≠ho." },
                    { id: 10, name: "Ztr√°ta spoleƒçn√©ho c√≠le", q3: "P≈ôed ka≈æd√Ωm √∫kolem se pt√°t: Jak to p≈ôisp√≠v√° k letu v kl√≠nu?" },
                    { id: 11, name: "Vn√≠m√°n√≠ okol√≠", q3: "Pravidelnƒõ ≈æ√°dat zpƒõtnou vazbu zvenƒç√≠: 'Co to vypad√°, ≈æe dƒõl√°me?'" },
                    { id: 12, name: "Hled√°n√≠ b√≠l√Ωch hus", q3: "Vytv√°≈ôet prostor pro tich√© husy ‚Äì hlubok√© rozhovory 1:1, skuteƒçn√© naslouch√°n√≠." }
                ]
            }
        ];

        // ============================================================
        // FUNKCE PRO RENDER
        // ============================================================
        function renderCardSelectors() {
            const selA = document.getElementById('cardA');
            const selB = document.getElementById('cardB');
            selA.innerHTML = '';
            selB.innerHTML = '';

            cardsDB.forEach(card => {
                const optA = document.createElement('option');
                optA.value = card.id;
                optA.textContent = `${card.name} ‚Äì ${card.title}`;
                selA.appendChild(optA);

                const optB = document.createElement('option');
                optB.value = card.id;
                optB.textContent = `${card.name} ‚Äì ${card.title}`;
                selB.appendChild(optB);
            });

            // P≈ôednastavit prvn√≠ dvƒõ karty
            selA.value = cardsDB[0].id;
            selB.value = cardsDB[1]?.id || cardsDB[0].id;
            updatePreviews();
        }

        function getCardById(id) {
            return cardsDB.find(c => c.id === id);
        }

        function updatePreviews() {
            const cardA = getCardById(document.getElementById('cardA').value);
            const cardB = getCardById(document.getElementById('cardB').value);

            // N√°hled pro A
            renderCardPreview('previewA', cardA);
            renderAngleSelector('angleSelectorA', cardA, 'A');

            // N√°hled pro B
            renderCardPreview('previewB', cardB);
            renderAngleSelector('angleSelectorB', cardB, 'B');
        }

        function renderCardPreview(containerId, card) {
            const container = document.getElementById(containerId);
            if (!card) {
                container.innerHTML = '<div class="card-preview">Vyber kartu</div>';
                return;
            }

            container.innerHTML = `
                <img src="${card.image}" alt="${card.name}" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2280%22%20height%3D%2280%22%20viewBox%3D%220%200%20100%20100%22%3E%3Crect%20width%3D%22100%22%20height%3D%22100%22%20fill%3D%22%23f0f0f0%22%2F%3E%3Ctext%20x%3D%2210%22%20y%3D%2255%22%20font-family%3D%22Arial%22%20font-size%3D%2212%22%3E${card.name}%3C%2Ftext%3E%3C%2Fsvg%3E'">
                <div class="card-info">
                    <div class="card-title">${card.title}</div>
                    <div class="card-desc">${card.desc}</div>
                </div>
            `;
        }

        function renderAngleSelector(containerId, card, letter) {
            const container = document.getElementById(containerId);
            if (!card) {
                container.innerHTML = '';
                return;
            }

            let options = '';
            card.angles.forEach(angle => {
                options += `<option value="${angle.id}">${angle.id}. ${angle.name}</option>`;
            });

            container.innerHTML = `
                <label for="angle-${letter}">Vyber √∫hel pohledu (karta ${card.name})</label>
                <select id="angle-${letter}" class="angle-select">${options}</select>
            `;
        }

        function getSelectedAngle(cardId, selectorId) {
            const card = getCardById(cardId);
            if (!card) return null;
            const select = document.getElementById(selectorId);
            if (!select) return null;
            const angleId = parseInt(select.value);
            return card.angles.find(a => a.id === angleId);
        }

        function generateCombo() {
            const cardAId = document.getElementById('cardA').value;
            const cardBId = document.getElementById('cardB').value;
            const angleA = getSelectedAngle(cardAId, 'angle-A');
            const angleB = getSelectedAngle(cardBId, 'angle-B');

            if (!angleA || !angleB) {
                alert('Vyber √∫hly pro obƒõ karty.');
                return;
            }

            const cardA = getCardById(cardAId);
            const cardB = getCardById(cardBId);

            // N√°zev kombinace
            const comboName = `${cardA.name} √ó ${cardB.name} ‚Äì kombinace √∫hl≈Ø`;

            // Kombinovan√Ω probl√©m
            const problem = `Spojen√≠ pohledu ‚Äû${angleA.name}‚Äú (${cardA.title}) a ‚Äû${angleB.name}‚Äú (${cardB.title}) vytv√°≈ô√≠ nov√Ω typ napƒõt√≠: jedna perspektiva chce ‚Äû${angleA.q3.split('.')[0]}‚Äú, druh√° ‚Äû${angleB.q3.split('.')[0]}‚Äú.`;

            // C√≠l ‚Äì odvozen√Ω z obou Q3
            const goal = `Propojit tyto dva p≈ô√≠stupy tak, aby vzniklo cviƒçen√≠, kde lid√© s prvn√≠m √∫hlem pracuj√≠ zp≈Øsobem druh√©ho √∫hlu, a naopak.`;

            // Kombinovan√© cviƒçen√≠ ‚Äì logicky spoj√≠ obƒõ Q3
            const exercise = `
                <p><strong>‚è±Ô∏è D√©lka:</strong> 30‚Äì40 minut</p>
                <p><strong>üë• Poƒçet:</strong> 3‚Äì6 lid√≠</p>
                <p><strong>Postup:</strong></p>
                <ol>
                    <li><strong>ƒå√°st 1 ‚Äì mapov√°n√≠ (10 minut):</strong> Ka≈æd√Ω √∫ƒçastn√≠k si vybere jeden probl√©m z t√Ωmu. Pop√≠≈°e ho nejprve z pohledu ‚Äû${angleA.name}‚Äú: ${angleA.q3.split('.')[0]}. Pot√© z pohledu ‚Äû${angleB.name}‚Äú: ${angleB.q3.split('.')[0]}.</li>
                    <li><strong>ƒå√°st 2 ‚Äì kombinace (15 minut):</strong> Skupina vybere jeden probl√©m. Navrhnƒõte spoleƒçnƒõ intervenci, kter√° kombinuje oba p≈ô√≠stupy. Vyu≈æijte tyto instrukce:
                        <ul>
                            <li><em>Z √∫hlu A:</em> ${angleA.q3}</li>
                            <li><em>Z √∫hlu B:</em> ${angleB.q3}</li>
                        </ul>
                    </li>
                    <li><strong>ƒå√°st 3 ‚Äì akce (10 minut):</strong> Navrhnƒõte jedno konkr√©tn√≠ opat≈ôen√≠ pro v√°≈° t√Ωm, kter√© vzniklo pr√°vƒõ kombinac√≠ tƒõchto dvou pohled≈Ø.</li>
                </ol>
                <p><strong>Tip:</strong> Hledejte, kde se √∫hly dopl≈àuj√≠. Nƒõkdy je nejsilnƒõj≈°√≠ kombinace tam, kde jeden √∫hel dƒõl√° to, co druh√Ω pot≈ôebuje.</p>
            `;

            // Info o √∫hlech
            const angleInfo = `√öhel A: ${cardA.name} ‚Äì ${angleA.name}\n√öhel B: ${cardB.name} ‚Äì ${angleB.name}`;

            // Zobrazit v√Ωsledek
            document.getElementById('comboTitle').textContent = comboName;
            document.getElementById('comboProblem').textContent = problem;
            document.getElementById('comboGoal').textContent = goal;
            document.getElementById('comboExercise').innerHTML = exercise;
            document.getElementById('angleInfo').textContent = angleInfo;
            document.getElementById('resultArea').style.display = 'block';
        }

        // ============================================================
        // INICIALIZACE
        // ============================================================
        window.addEventListener('DOMContentLoaded', () => {
            renderCardSelectors();

            document.getElementById('cardA').addEventListener('change', updatePreviews);
            document.getElementById('cardB').addEventListener('change', updatePreviews);
            document.getElementById('generateBtn').addEventListener('click', generateCombo);

            // Prvn√≠ naƒçten√≠
            updatePreviews();
        });

    </script>
</body>
</html>
