            <!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üê± KOCOUR ‚Äì kreativn√≠ m√≥d</title>
    <style>
        /* ƒåistƒõ ƒçernob√≠l√© */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            background: #fff;
            color: #000;
            font-family: 'Courier New', Courier, monospace;
            line-height: 1.5;
            padding: 2rem 1rem;
            display: flex;
            justify-content: center;
        }
        .container {
            max-width: 900px;
            width: 100%;
            border: 3px solid #000;
            padding: 2rem;
            background: #fff;
        }
        h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid #000;
            padding-bottom: 0.5rem;
        }
        h2 {
            font-size: 1.6rem;
            margin: 2rem 0 1rem;
            font-weight: 600;
        }
        hr {
            border: none;
            border-top: 2px solid #000;
            margin: 2rem 0;
        }
        .btn {
            background: #000;
            color: #fff;
            border: 2px solid #000;
            padding: 0.8rem 1.5rem;
            font-family: inherit;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            margin: 0.5rem 0.5rem 0.5rem 0;
            transition: none;
        }
        .btn:hover {
            background: #fff;
            color: #000;
        }
        .btn.aktivni {
            background: #fff;
            color: #000;
            border: 3px solid #000;
        }
        .kategorie-box {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin: 2rem 0;
        }
        .inspirace-box {
            border: 2px solid #000;
            padding: 2rem;
            margin: 2rem 0;
            background: #f9f9f9;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            text-align: center;
            line-height: 1.6;
            white-space: pre-wrap;
        }
        .inspirace-box small {
            font-size: 0.9rem;
            color: #555;
            margin-top: 1rem;
        }
        .poznamka {
            font-size: 0.9rem;
            color: #444;
            margin: 1.5rem 0;
            text-align: center;
            border-top: 1px solid #aaa;
            padding-top: 1.5rem;
        }
        a {
            color: #000;
            text-decoration: underline;
        }
        .footer {
            margin-top: 2rem;
            text-align: center;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üê± KOCOUR ‚Äì kreativn√≠ m√≥d</h1>
        <p><a href="../index.html">‚Üê zpƒõt na rozcestn√≠k karty</a></p>
        <hr>

        <h2>Vyber oblast, na kterou hled√°≈° inspiraci</h2>

        <div class="kategorie-box" id="kategorieContainer"></div>

        <div id="inspiraceBox" class="inspirace-box">
            Klikni na nƒõkterou kategorii.
        </div>

        <div style="text-align: center;">
            <button class="btn" id="dalsiButton" disabled onclick="dalsiInspirace()">‚Üí dal≈°√≠ n√°pad ‚Üê</button>
        </div>

        <div class="poznamka">
            Ka≈æd√Ω n√°pad vych√°z√≠ z metafor a princip≈Ø karty Kocour.<br>
            M≈Ø≈æe≈° ho pou≈æ√≠t jako p≈ô√≠mou inspiraci pro sv≈Øj projekt.
        </div>

        <hr>
        <div class="footer">
            ¬© KOCOUR ‚Äì kreativn√≠ m√≥d (souƒç√°st syst√©mu PLAME≈á√ÅK)
        </div>
    </div>

    <script>
        // ------------------------------------------------------------
        // NAƒåTEN√ç DAT Z EXTERN√çHO JSON SOUBORU
        // ------------------------------------------------------------
        let kreativniData = [];
        let kategorieSeznam = [];

        fetch('kreativni_tvorba.json')
            .then(response => {
                if (!response.ok) throw new Error('Soubor kreativni_tvorba.json se nepoda≈ôilo naƒç√≠st');
                return response.json();
            })
            .then(data => {
                kreativniData = data;
                // Extrahujeme unik√°tn√≠ kategorie (rozdƒõl√≠me ƒç√°rkou a o≈ôe≈æeme mezery)
                const kategorieSet = new Set();
                data.forEach(item => {
                    if (item.category) {
                        item.category.split(',').forEach(kat => {
                            kategorieSet.add(kat.trim());
                        });
                    }
                });
                kategorieSeznam = Array.from(kategorieSet).sort();
                zobrazKategorie();
            })
            .catch(error => {
                document.getElementById('inspiraceBox').innerHTML = `<p style="color:red;">Chyba: ${error.message}</p>`;
                console.error(error);
            });

        // ------------------------------------------------------------
        // Vykreslen√≠ tlaƒç√≠tek kategori√≠
        // ------------------------------------------------------------
        function zobrazKategorie() {
            const container = document.getElementById('kategorieContainer');
            if (kategorieSeznam.length === 0) {
                container.innerHTML = '<p>≈Ω√°dn√© kategorie k dispozici.</p>';
                return;
            }
            let html = '';
            kategorieSeznam.forEach(kat => {
                html += `<button class="btn" onclick="vybratKategorii('${kat}')">${kat}</button>`;
            });
            container.innerHTML = html;
        }

        let aktualniKategorie = null;

        // ------------------------------------------------------------
        // V√Ωbƒõr kategorie
        // ------------------------------------------------------------
        window.vybratKategorii = function(kat) {
            aktualniKategorie = kat;

            // Zv√Ωraznit aktivn√≠ tlaƒç√≠tko
            document.querySelectorAll('#kategorieContainer .btn').forEach(btn => {
                btn.classList.remove('aktivni');
                if (btn.innerText === kat) btn.classList.add('aktivni');
            });

            document.getElementById('dalsiButton').disabled = false;
            nahodnyInspirace(kat);
        };

        // ------------------------------------------------------------
        // N√°hodn√Ω v√Ωbƒõr n√°padu z dan√© kategorie
        // ------------------------------------------------------------
        function nahodnyInspirace(kat) {
            if (!kreativniData.length) return;

            // Vybrat polo≈æky, kter√© obsahuj√≠ tuto kategorii (v poli category rozdƒõlen√©m ƒç√°rkou)
            const vhodne = kreativniData.filter(item => {
                if (!item.category) return false;
                const kategoriePolozky = item.category.split(',').map(s => s.trim());
                return kategoriePolozky.includes(kat);
            });

            if (vhodne.length === 0) {
                document.getElementById('inspiraceBox').innerHTML = `<p>Pro tuto oblast zat√≠m nen√≠ ≈æ√°dn√Ω n√°pad.</p>`;
                return;
            }

            const nahodny = vhodne[Math.floor(Math.random() * vhodne.length)];
            const angle = nahodny.original_angle || '';
            document.getElementById('inspiraceBox').innerHTML = `
                <p>${nahodny.idea}</p>
                ${angle ? `<small>(vych√°z√≠ z √∫hlu: ${angle})</small>` : ''}
            `;
        }

        // ------------------------------------------------------------
        // Dal≈°√≠ n√°pad
        // ------------------------------------------------------------
        window.dalsiInspirace = function() {
            if (aktualniKategorie) {
                nahodnyInspirace(aktualniKategorie);
            }
        };
    </script>
</body>
</html>
